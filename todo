FEATURES:
* Armored skeletons (attack direction!)
* Trampling
* Metal doors (type=111)
* Fire traps
* Mummy summoning
* Ogre clonking
* basic_seek spawn-asymmetry
* Fire traps

BUGFIXES:
* if the player moved more than 1 tile, the player's previous position should be ignored
* bombing torches should adjust lighting
* armadillos/headless should move horizontally after a diagonal bounce trap
* bats/zombies/diggers should treat hitting the player as a successful move
* yetis shouldn’t hit twice when adjacent to the player
* bombers blocked in all directions should still remove water/tar
* mages shouldn’t be able to cast while stuck in water/tar
* moles shouldn’t be able to move through water/tar
* knockback shouldn’t free enemies from water/tar
* knockback should set direction correctly for diagonal attacks (attack direction!)

REFACTORS:
* Refactor harpy AI
* Dragon exhaustion is implemented in a stupid way
* (type % 100) + offset[type / 100] ? benchmark


Metal doors try to close themselves before and after each player turn, except
on the first two turns they are open. This explains both the weird priority
thing and the fact that metal doors never close on the turn after opening, even
if there’s nothing in the way.
