TESTS:
* BasicFlee: test all cases
* benchmark (type % 100) + offset[type / 100]
* Headless skeletons (in particular, failed forced_moves)

FEATURES:
* Z3 digging
* Armored skeletons (attack direction!)
* Trampling
* Metal doors (type=111)
* Fire traps
* Mummy summoning

BUGFIXES:
* CRASH on efeffef<<<<<<
* CRASH on bomb trap
* Non-player bombs crash the game?
* armadillos should not charge diagonally after a diagonal bounce trap
* bats/zombies/diggers should treat hitting the player as a successful move
* mages shouldn’t be able to cast while stuck in water/tar
* traps should be destroyed by bombs/elementals/moles
* moles shouldn’t be able to move through water/tar
* knockback shouldn’t free enemies from water/tar

AFL:
* deterministic swaps
* havoc swaps
* ins16, ins32
* del16, del32
* fitness function

REFACTORS:
* Refactor harpy AI

Harpy priority:
   N
  IFJ
 HDBDK
MEA.CGO
 IDBDL
  JFK
   N

metal doors try to close themselves before and after each player turn, except
on the first two turns they are open. This explains both the weird priority
thing and the fact that metal doors never close on the turn after opening, even
if there’s nothing in the way.

There is a fourth damage type besides regular, piercing, and phasing. I call it
“bomb-like”. Bomb-like damage always hurts blademasters, but doesn’t hurt other
armored enemies (beetles). Bomb-like damage never triggers warlock teleports.
The following sources deal bomb-like damage: bombs (duh), Boots of Lunging,
spike traps and all fireballs (traps, spells, scrolls and Red Dragons; didn’t
test it with DM)

↓↓....←←
↓↓....←←
........
...@....
←.......
↑↑....←←
↑↑....←←

blueblimp: I think the way it goes is, unless blocked or it would move
   the monster farther from you, basicseek prefers to keep using the same axis;
   and there is a special case saying that if the player's current or previous
   position, projected on the monster's line of movement, is the same as the
   monster's position, then the monster prefers to switch axis if it can

blueblimp: hm, there seems to be a special case where if the player moved more
   than 1 tile, then the player's previous position is ignored
